[tox]
envlist = py27

[testenv]
deps = -r{toxinidir}/requirements.txt
commands = py.test -v tests/
sitepackages = False
usedevelop = True

[testenv:flake8]
deps = flake8
commands = flake8 piksi_tools

[testenv:pyinstaller]
basepython = python2.7

# since we want _version.py to be generated by setuptools_scm
usedevelop = True
deps = -rrequirements.txt
       pyinstaller==3.2.1
       # use pyside 1.2.4 unless overriden by env var
       pyside=={env:PYSIDE_VERSION:1.2.4}

       
commands = 
        # hack since enable is not packaged correctly
        pip install -r requirements_gui.txt
        pyinstaller -y misc/console.spec
